# =============================================================================
# Kubernetes ConfigMap - Todo Application
# Non-sensitive configuration data
# =============================================================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: todo-config
  namespace: default
  labels:
    app: todo-application
    component: configuration
data:
  # Frontend API URL
  # Points to the backend service within the cluster
  NEXT_PUBLIC_API_URL: "http://backend-service:8000"

  # Logging level
  # Options: debug, info, warning, error
  LOG_LEVEL: "info"

  # Node environment
  # Options: development, production
  NODE_ENV: "production"

  # Backend environment
  ENVIRONMENT: "production"

  # CORS origins (comma-separated)
  # For production, set specific frontend URL
  CORS_ORIGINS: "http://frontend-service:3000,http://todo.local"

  # Better Auth URL
  # External URL for authentication callbacks
  BETTER_AUTH_URL: "http://todo.local/api/auth"

---
# =============================================================================
# Usage Instructions
# =============================================================================
#
# Apply to cluster:
#   kubectl apply -f configmap.yaml
#
# Verify:
#   kubectl get configmap todo-config
#   kubectl describe configmap todo-config
#
# To reference these values in deployments:
#
#   env:
#     - name: NEXT_PUBLIC_API_URL
#       valueFrom:
#         configMapKeyRef:
#           name: todo-config
#           key: NEXT_PUBLIC_API_URL
#
# Or mount as volume:
#
#   volumes:
#     - name: config
#       configMap:
#         name: todo-config
#
# =============================================================================
