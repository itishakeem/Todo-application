# =============================================================================
# Kubernetes Secrets - Todo Application
# WARNING: This file contains placeholder values for demonstration
# DO NOT commit actual secrets to version control
# =============================================================================
#
# To use this file:
# 1. Create secrets.local.yaml with actual base64-encoded values
# 2. Apply with: kubectl apply -f secrets.local.yaml
# 3. Add secrets.local.yaml to .gitignore
#
# To encode a secret:
# echo -n "your-secret-value" | base64
#
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: todo-secrets
  namespace: default
  labels:
    app: todo-application
    component: secrets
type: Opaque
data:
  # Database connection string (base64 encoded)
  # Example: postgresql://user:password@neon-host:5432/database
  # Encode with: echo -n "postgresql://..." | base64
  DATABASE_URL: <BASE64_ENCODED_DATABASE_URL>

  # OpenAI API Key (base64 encoded)
  # Example: sk-proj-...
  # Encode with: echo -n "sk-proj-..." | base64
  OPENAI_API_KEY: <BASE64_ENCODED_OPENAI_API_KEY>

  # Better Auth Secret (base64 encoded)
  # Generate a random secret: openssl rand -hex 32
  # Encode with: echo -n "your-secret" | base64
  BETTER_AUTH_SECRET: <BASE64_ENCODED_BETTER_AUTH_SECRET>

---
# =============================================================================
# Usage Instructions
# =============================================================================
#
# IMPORTANT: Never commit real secrets to git!
#
# Step 1: Create secrets.local.yaml
# Copy this file and replace placeholders with actual base64-encoded values:
#
#   cp secrets.yaml secrets.local.yaml
#
# Step 2: Encode your secrets
#
#   # On Linux/Mac:
#   echo -n "postgresql://user:pass@host:5432/db" | base64
#   echo -n "sk-proj-your-openai-key" | base64
#   echo -n "your-auth-secret" | base64
#
#   # On Windows (PowerShell):
#   [Convert]::ToBase64String([Text.Encoding]::UTF8.GetBytes("your-secret"))
#
# Step 3: Apply to cluster
#
#   kubectl apply -f secrets.local.yaml
#
# Step 4: Verify
#
#   kubectl get secret todo-secrets
#   kubectl describe secret todo-secrets
#
# To reference these secrets in deployments:
#
#   env:
#     - name: DATABASE_URL
#       valueFrom:
#         secretKeyRef:
#           name: todo-secrets
#           key: DATABASE_URL
#
# =============================================================================
